<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">
<head>
   <link rel="shortcut icon" href="../jass.ico">
   <link rel="stylesheet" type="text/css" href="../jass.css">
   <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <meta name="author" content="Jochen Hoenicke, Michael Möller">
  <meta name="keywords" content="Design by Contract,assertion,assertions,runtime check,JaWA,jawa,jass,java language extension,interference,refinement,parallelism,Clemens Fischer,trace, Trace Assertion">
   <title>Jass - News
</title>
<meta name="Generator" content="htp 1.14">
</head>
<body text="#000000" bgcolor="#ffffff" link="#000077" vlink="#660077" alink="#cc3333">
<a NAME="top"></a>
<table border="0" cellspacing="0" cellpadding="5" width="100%">
<tr>
  <td bgcolor="#ffffcc">
  <table border="0" width="100%" cellpadding="15">
  <tr>
    <td class="top" align="center" width="150">
      <img src="../pic/jasslogo.png" alt="logo" WIDTH="82" HEIGHT="142"></td>
    <td class="top">
      <h1 class="top">The Jass Page</h1>
      <h2 class="top">News</h2>
    </td>
  </tr>
  </table>
  </td>
</tr>
<tr>
  <td bgcolor="#aa88ff"> |
    <a href="../index.html" target="_top">Home</a>
 |
    <a href="../download/index.html" target="_top">Download</a>
 |
    <a href="../tour/index.html" target="_top">Tour</a>
 |
    <a href="../doc/index.html" target="_top">Documentation</a>
 |
    <a href="../jassda/index.html" target="_top">jassda</a>
 |
  News
 |
    <a href="../index/index.html" target="_top">Index</a>
 |
  </td>
</tr>
<tr>
<td bgcolor="#ffffff">
<div class="langref">
  [English]
</div>
<hr size="1" noshade/>
<br />
<table border="0" width="100%">
<tr>
<td width="20%" valign="top">
<table class="sidetable" width="100%" cellpadding="3" cellspacing="0">
<tr>
  <td class="sidetable">On this page:</td>
</tr>
<tr><td>
  <table class="sidetable-main" width="100%" cellpadding="3" cellspacing="0">
  <tr><td class="sidetable-main">
    <div class="toc">
<table>
  <tr>
  <td class="tocf">1</td>
  <td colspan="2" class="toc">
    <a href="#sect1">Current and Future Work</a>
  </td>
  </tr>
  <tr>
  <td class="tocf">2</td>
  <td colspan="2" class="toc">
    <a href="#sect2">Actual Information</a>
  </td>
  </tr>
      <tr>
    <td></td>
    <td class="tocf">2.1</td>
    <td class="toc">
      <a href="#subsect21">Changes (NEWS)</a>
    </td>
    </tr>
      <tr>
    <td></td>
    <td class="tocf">2.2</td>
    <td class="toc">
      <a href="#subsect22">Known Bugs (BUGS)</a>
    </td>
    </tr>
</table>
</div>
  </td></tr>
  </table>
</td></tr>
</table>
<br />
</td>
<!-- main page -->
<td valign="top">
<div class="toc">
</div>
  <h1>
  <a name="sect1">
  1 Current and Future Work</a></h1>
      <p> Currently we are improving Jass 2.x in the sense of fixing bugs
and improving the source code. The source code should be more readable
by better structuring and documenting it.</p>
<p> As our second task, the trace assertion feature is completely
redesigned and improved. This work was mainly done by Mark Brörkens
as his mastersthesis. This new Trace Assertion feature will bring up a
different language for traces, so that the current trace-language is
not supported any longer. To get an overview of this work have a look
at the   <a href="../jassda/index.html" target="_top">jassda chapter</a>. There you will
also find a link to the <b>jassda</b> homepage</p>
<p> As future work we are thinking of switching to
<a name="idx1"><em></em></a>
  <a href="http://www.cs.iastate.edu/~leavens/JML.html" target="_top">JML</a> as assertion
language. Many of the &quot;standard&quot; assertion features are
similar to what Jass provides. But the handling of interfaces,
abstract classes and the feature of model variables is much more
expressive than that what Jass currently supports. Instead of
developing new language extensions we could benefit from switching
to a language that is much more elaborated by much more people. Vice
versa we could provide the Trace Assertions as extension of JML.</p>
  <h1>
  <a name="sect2">
  2 Actual Information</a></h1>
<p>This section makes the files <code>NEWS</code> and <code>BUGS</code>
of the current   <a href="../download/index.html#distribution" target="_top">Jass
distribution </a> available via the Web.</p>
    <h2>
    <a name="subsect21">
    2.1 Changes (NEWS)
    </a></h2>
<a name="idx2"><em></em></a>
<p> jass-2.0.11
</p>
<ul>
<li>fixed JassDoc to produce output even for the constructors' contracts and
   the class invariant.
   (JassDoc works with Java &lt; 1.4 only!  see Documentation -&gt; JavaDoc Support)
</li>
<li>new attribute in ant task: docmode = "java" "html" "none" corresponding
   to the commandline options "-javadoc" "-htmldoc" "-nodoc"
</li>
</ul>
<p> jass-2.0.10
</p>
<ul>
<li>fixed a NullPointerException when invoking Jass on classes in
   unnamed packages and without specifying a destination directory.
</li>
<li>fixed the field lookup (allowing inherited fields to be used in
   assertions)
</li>
<li>fixed a problem with "conditional communications" in Jass
   Trace Assertions. Howerever, we recommend to not use TAs! They
   perform bad and are not threadsafe!
</li>
</ul>
<p> jass-2.0.9
</p>
<ul>
<li>direct call to Jass from ant task (same JVM =&gt; enormous speed-up!)
</li>
<li>destdir option in ant task (to support .java extension)
</li>
<li>JavaDoc documentation improved (e.g. for constructors)
</li>
</ul>
<p> jass-2.0.8
</p>
<ul>
<li>fix for parsing compile controls
   (Thanks to Joseph R. Kiniry for reporting this bug)
</li>
<li>no invariant checking in static methods
</li>
<li>genereate compilable code for internal methods that throw exceptions
</li>
</ul>
<p> jass-2.0.7
</p>
<ul>
<li>again a fix for the NameAnalysis
</li>
<li>Compile to a different directory ("-d" option).
   ".java" extension now allowed for Jass-files.
</li>
</ul>
<p> jass-2.0.6
</p>
<ul>
<li>support classes that depend on classes in unnamed packages
   (Thanks to  Michel Charpentier for reporting this bug)
</li>
<li>New ``handwritten'' commandline parsing solves problem
   with filenames and -help and -version switches work again.
</li>
<li>ant task included in distribution (see examples.xml)
</li>
<li>Generate HTML code, JavaDoc sections (Doclet included) or nothings
   for assertions in formal comments
</li>
</ul>
<p> jass-2.0.5:
</p>
<ul>
<li>The assert statement of Java-1.4 is understood.
</li>
<li>Classes in unnamed package are supported again.
</li>
</ul>
<p> jass-2.0.4:
</p>
<ul>
<li>Invariants are always non static and static methods ignore them.
</li>
<li>Assignments are now allowed inside expressions.
</li>
</ul>
<p> jass-2.0.3:
</p>
<ul>
<li>Fixed handling of Interfaces.
</li>
<li>Skip anonymous classes instead of failing.
</li>
</ul>
<p> jass-2.0.2:
</p>
<ul>
<li>Trace assertion can now be turned off.
</li>
</ul>
<p> jass-2.0.1:
</p>
<ul>
<li>Reformatted code with jindent.
</li>
<li>Assertion in constructors are working now.
</li>
</ul>
<p> jass-2:
</p>
<ul>
<li>Trace Assertion added.
</li>
</ul>
    <h2>
    <a name="subsect22">
    2.2 Known Bugs (BUGS)
    </a></h2>
<a name="idx3"><em></em></a>
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Not possible to refer to nonstatic methods from within static assertion
</dd>
<dt >Problem:</dt><dd >
It is not possible to refer to any nonstatic methods from within an
assertion in a static method, even if the nonstatic methods are explicitly
on an instance of the class. For instance, the following static method in
class Moogle:
</dd>
<dt >Example:</dt><dd >
<pre>
   public static void cactaur(Moogle cait_sith) {
      /** require cait_sith.kupo(); **/
      ...
   }
</pre>
fails when kupo() is a non-static method of Moogle, even though it's being
called on an instance of the class.
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> JassDoc does not work with Java2 SDK/JRE 1.4
</dd>
<dt >Problem:</dt><dd >
SUN changed some doclet classes that we derive from
</dd>
<dt >Workaround:</dt><dd >
Use the -tag option of javadoc in 1.4. See the example.xml
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> forall and exists do not work in static methods
</dd>
<dt >Occurence:</dt><dd > Compiler
</dd>
<dt >Problem:</dt><dd >
forall and exists assertions are translated into non-static methods
jassCheckForAll_... no metter if the method that defines the assertion
is static or not. These internal methods cannot be used inside a static
method but the output of jass tries to do so. (Thanks to Bill James Ellis
for reporting this - we hope this will be fixed soon)
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> internal Jass methods missing
</dd>
<dt >Message:</dt><dd > Method jassInternal_xxx not found
</dd>
<dt >Occurence:</dt><dd > Compiler
</dd>
<dt >Problem:</dt><dd >
If a method 'm' is called within an assertion, Jass calls an internal
version of this method: 'jassInternal_m'. Jass creates internal
versions of all methods who appear at the assertions of a
class. Unfortunately Jass does not take into account yet that
assertions may refer to external methods as well.
</dd>
<dt >Example:</dt><dd >
<pre>
public class C {
  public boolean m(){..}
}

public class D {
	C c;
	
  /** invariant c.m(); **/
}
</pre>
C.jassInternal_m() does not exists!
</dd>
<dt >Workaround:</dt><dd >
To lead Jass to create the necessary internal methods, insert dummy
conditions into the external class which refer to the oppropriate
methods. The above example works with:
<pre>
public class C {
  public boolean m(){..}
	/** invariant m() = m(); **/
}
</pre>
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Jass creates Java code which may not be reached
</dd>
<dt >Message:</dt><dd > Statement not reached
</dd>
<dt >Occurence:</dt><dd > Compiler
</dd>
<dt >Problem:</dt><dd >
Jass inserts code at the exit points of a method (end of method /
return statements). This code may not be reached.
</dd>
<dt >Example:</dt><dd >
<pre>
while(true)
{
	... // something
}
jass post condition
</pre>
</dd>
<dt >Workaround:</dt><dd >
Use a dummy statement or a dummy variable to outwit the java mechanism
to detect unreachable code
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Anonymous and method scoped classes can not contain assertions.
</dd>
<dt >Problem:</dt><dd >
Assertions in anonymous and method scoped classes are simply ignored.
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Inner classes can only be handled at first level.
</dd>
<dt >Problem:</dt><dd >
A declaration like
<pre>
public class Outer {
   public class Test {
      public class Test2 {
      }
   }
}
</pre>
can not be handled. ReflectVisitor and OutputVisitor have no problem
to deal with this!  The only problem is the name look up of the
NameAnalysis ...
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Constructors of Inner classes can't be handled.
</dd>
<dt >Problem:</dt><dd >
idebughc.ServletLogOutput contains an inner class DummyServletContext with
no constructor, therefore the default constructor should be just
<pre>
  DummyServletContext() { super(); }
</pre>
Since no constructor was explicitly specified, Jass introduces one but it
has signature:
<pre>
  public ServletLogOutput$DummyServletContext()
</pre>
</dd>
</dl><br />
<dl>
<dt  class="bug">Bug:</dt><dd  class="bug"> Some constructs are not analysed.
</dd>
<dt >Problem:</dt><dd >
Not parsed and analysed are:
<ul>
<li>array initializer
</li>
<li>class initializer
</li>
<li>anonymous and method scoped classes
</li>
</ul>
</dd>
</dl>
<div class="toc">
</div>
<!-- end of main page -->
</td>
</table>
</td></tr>
<tr><td height="5" bgcolor="#aa88ff"><font size=1>&nbsp;</font></td></tr>
<tr><td bgcolor="#ffffcc">
<div class="footer">
  <a href="http://semantik.informatik.uni-oldenburg.de/~jass"><em>Jass</em></a>
, last update 03/14/02
- &copy; 2001   <a href="http://semantik.informatik.uni-oldenburg.de/eindex.html" target="_top">Semantics Group</a>
, University of Oldenburg, Germany<br />
Please send your comments to <a href="mailto:jass@informatik.uni-oldenburg.de">jass@informatik.uni-oldenburg.de</a>
.<br />
HTML coding powered by   <a href="http://htp.sourceforge.net/" target="_top">htp</a>
</div>
</td>
</tr>
</table>
</body>
</html>
